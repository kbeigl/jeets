# This file holds all configurable jeets properties and 
# is aligned with individual projects for each release.
# The file should only be modified manually and can then
# be propagated to the projects with: <cmdline>
# In order to customize the jeets to other environments,
# i.e. customer production, the file can also be copied,
# renamed and replace the default file via <cmdline>
# The main jeets properties are also used to synchronize
# integration tests, like tracker2dcs using the same port
# and host to send and receive messages.

# you can also use - but should not override - maven properties 
# this file should only configure jeets tests and releases

##### jeets-pu-traccar-jpa ##### 
################################
# find persistence-unit names in the code
jeets.host=localhost
jeets.port=5432
jeets.dbname=traccar4.1
# jeets.traccar.version=4.2 (no ERM changes!)
jeets.jdbc.driver=org.postgresql.Driver
jeets.jdbc.url=jdbc:postgresql://localhost:5432/traccar4.1
#jeets.jdbc.url=jdbc:postgresql://${jeets.host}:${jeets.port}/${jeets.dbname}
jeets.jdbc.user=postgres
jeets.jdbc.password=postgres
jeets.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

##### test ##### 
# a. h2 embedded in memory
#jeets.test.jdbc.url=jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1;MVCC=TRUE
# b. h2 server based DB (for itests)
# jeets.test.jdbc.url=jdbc:h2:tcp://${db.host}:9092/./target/testsrvdb
# hibernate.dialect=org.hibernate.dialect.H2Dialect
# c. h2 file based DB
jeets.test.jdbc.url=jdbc:h2:${project.build.directory}/${jeets.dbname}
jeets.test.jdbc.user=sa
jeets.test.jdbc.password=
jeets.test.jdbc.driver=org.h2.Driver
jeets.test.hibernate.show_sql=false
jeets.test.hibernate.dialect=${jeets.hibernate.dialect}

# postgres tests drop and create tables, but ..
# TODO: truncation syntax in truncateTables() must distinguish h2 <> pg
#	jeets.test.host=${jeets.host}
#	jeets.test.port=${jeets.port}
# MAKE SURE TO USE 'test' PREFIX, DON'T ACCESS PRODUCTION DB !!
#	jeets.test.dbname=test${jeets.dbname}
#	jeets.test.jdbc.url=jdbc:postgresql://${jeets.host}:${jeets.port}/${jeets.test.dbname}
#	jeets.test.jdbc.driver=org.postgresql.Driver
#	jeets.test.jdbc.user=postgres
#	jeets.test.jdbc.password=postgres

jeets.test.hibernate.dialect=${jeets.hibernate.dialect}



###### jeets-protocols ######
#############################
jeets.protocol.protobuffer.traccar=device

####### jeets-tracker #######
#############################
# TODO substitute ${protocol.pb.device}
jeets.tracker.uniqueId=pb.device
jeets.tracker.host=localhost
jeets.tracker.port=5200
jeets.tracker.maxPosPerMsg=2
jeets.tracker.retryInMillis=10000
# jeets-tracker Main
jeets.tracker.sendInMillis=10000

####### jeets-dcs ###### (adjust with clients)
########################
jeets.dcs.traccar.host=${jeets.tracker.host}
jeets.dcs.protobuffer.traccar.port=${jeets.tracker.port}


